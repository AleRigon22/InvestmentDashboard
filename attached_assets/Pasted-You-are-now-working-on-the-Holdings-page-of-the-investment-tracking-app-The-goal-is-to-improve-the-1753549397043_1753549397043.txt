You are now working on the Holdings page of the investment tracking app.

The goal is to improve the structure, visibility, and accuracy of user holdings by adding more detailed information about positions and enhancing the visual clarity of the data.

Apply the following improvements specifically to the Holdings page:

---

üì¶ Per Asset Block Enhancements:
1. Add a new column or display field for **Total Cost** per asset:
   - Total Cost = Quantity √ó Average Price
   - This value should be shown alongside Market Value and P&L

2. Add the ability to **expand each asset row** to show individual lots or buy transactions:
   - Use **FIFO logic** (first-in-first-out) if necessary
   - Show quantity, buy date, price per lot, and remaining units
   - This is useful for users who do DCA (dollar-cost averaging) or partial sales

3. Add **a mini sparkline chart** (optional but valuable) for each asset showing the user‚Äôs personal performance over time:
   - Only needs to reflect portfolio value or price evolution for that specific holding
   - Keep it lightweight and mobile-friendly

---

üí∞ Additional Fields:
4. If any **transaction fees** are associated with an asset (from trades), show a small "fee icon" with a tooltip indicating total fees paid for that position

5. For assets that are currently closed (fully sold), show them in a **collapsed "Closed Positions" section** as it is already implemented, but now include:
   - Final realized P&L
   - Total holding duration (in days)

---

üîç Sorting and Filtering (optional improvement):
6. Add optional sorting by:
   - Market Value
   - % Return
   - Asset name
   - Quantity

---

üìÇ Accordion Grouping for Asset Categories:
7. Group all assets by their category using **accordion-style collapsible sections**:
   - For example: Stocks, Crypto, ETFs, Bonds
   - Each group should be collapsible to improve readability on smaller screens or with long portfolios
   - This accordion logic should apply both to **open holdings** and **closed positions**

---

üõ†Ô∏è Layout and UI Notes:
- Maintain a clean, grouped layout by category (e.g. Stocks, Crypto, etc.)
- Make sure all tooltips and interactive rows are mobile responsive
- Do not affect the logic or display of other pages

---

Use existing state/data structure and enhance only the Holdings page as specified above. Do not alter the Dashboard or History views.
