You are improving the asset detail page of an investment portfolio tracker app for assets that are currently open. The current implementation of the "Investment Performance" graph is incorrect and must be revised based on historical data snapshots.

Implement the following changes:

üìà GRAPH LOGIC FIX
In "Currency" mode, the graph must start from the initial invested amount (e.g., if the user buys ‚Ç¨31 worth of stock in March, the first point must be ‚Ç¨31, not ‚Ç¨0).

In "Percentage" mode, the graph must start from 0%, and show the correct variation over time based on the asset's market value vs cost basis.

The graph must not rely only on the start and end date. It must be populated using historical data snapshots saved monthly (or daily if available).

Use these historical snapshots to reconstruct the full time series of:

Invested Value

Market Value

Percentage Gain/Loss

üóÇ ADD SNAPSHOT TABLE BELOW GRAPH
Add a table directly below the chart, using the same layout as the "Holdings" table for a single asset. For each snapshot point (monthly or daily), display:

Quantity

Avg. Buy Price

Current Price

Total Cost

Market Value

P&L

Actions (Edit)

Each row represents a point in time (e.g. one per month), and should correspond to a point in the graph.

‚úèÔ∏è ENABLE EDITING OF SNAPSHOT ROWS
Allow the user to click "Edit" on each row and modify the values (e.g., price, quantity, etc.).

When a value is edited:

The snapshot is updated or replaced in the backend.

The graph above is automatically re-rendered with the updated data.

This change should also propagate to the "History" page where all asset snapshots are stored.

üß∞ OTHER REQUIREMENTS
Tooltips on the graph must work correctly and show:

the date

market value

invested value

and percentage change (if in percentage mode)

Make sure that switching between 1M, 3M, 1Y, MAX filters properly filters both the graph and the table below based on the selected time range.

Maintain a clean layout. Use the same styling system and color theme already used in the rest of the app.