Please update the existing Manual Investment Portfolio Tracker project with the following changes:

1️⃣ Monthly Dividend Flow – Correct Stacked Bar Behavior
Current issue:
In the Monthly Dividend Flow chart, the columns are not properly split by asset contribution.

Required fix:

Each monthly column in the chart must be a stacked bar, where:

Each segment represents a different asset.

The height of each segment corresponds to the actual percentage share of that asset’s dividend for the month.

For each month:

sql
Copia
Modifica
% for asset X = (Dividends from asset X in that month) / (Total dividends in that month) × 100
Tooltips must display:

Asset name

Amount received from that asset in the month

Percentage of the month’s total

2️⃣ Dividend Actions – Fix Edit/Delete
Current issue:
The actions in the Dividends list (Edit/Delete buttons) are not functional.

Required fix:

Edit Dividend:

Open a modal pre-filled with:

Asset name (selectable from existing assets)

Payment date

Amount received

Optional note

Allow the user to modify and save the dividend.

Delete Dividend:

Show a confirmation prompt.

On confirmation, remove the dividend from:

Dividend History list

Monthly Dividend Flow chart

Any associated summaries (YTD dividends, etc.)

Update the UI in real-time without requiring a page refresh.

3️⃣ Asset Sectors – Dropdown Selection
Required addition:

When creating or editing an asset, allow the user to select the Sector from a dropdown menu with the following options:

csharp
Copia
Modifica
Energia  
Materiali  
Industria  
Consumi discrezionali  
Consumi di base  
Assistenza sanitaria  
Finanza  
Tecnologia  
Servizi di comunicazione  
Servizi di pubblica utilità  
Immobili
The selected sector must be saved in the asset’s data and reflected in sector allocation charts or filters.

4️⃣ Asset Geographical Area – Dropdown Selection
Required addition:

When creating or editing an asset, allow the user to select the Geographical Area from a dropdown menu.

Suggested values (you can adjust if needed):

nginx
Copia
Modifica
Stati Uniti  
Europa  
Asia  
Mercati Emergenti  
Globale / Multinazionale
This information will be used in the geographical allocation chart and filters.

5️⃣ Summary of Actions
Feature	Action
Monthly Dividend Flow	Display correct stacked bars by asset contribution per month
Dividend Actions	Fix Edit and Delete in Dividends list
Asset Sector	Add sector dropdown with predefined sectors
Asset Region	Add geographical area dropdown

Final instruction to Replit AI:
Apply these changes directly to the current project.
Ensure that all dividend visualizations, actions, and asset metadata are handled as described.
Test the full flow, including sector/region assignment, dividend management, and chart updates.